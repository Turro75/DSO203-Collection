#|/bin/sh

SERIAL="/dev/ttyUSB0"
STM32FLASH="./stm32flash"
BASEADDRESS="0x08000000"  #DFU
_SYSADDRESS="0x08004000"  #SYS
APP1ADDRESS="0x0800c000"  #APP1
APP1ADDRESS="0x08014000"  #APP2
APP1ADDRESS="0x0801c000"  #APP3
APP1ADDRESS="0x08024000"  #APP4
FPGAADDRESS="0x0802c000"  #FPGA
LOGOADDRESS="0x0803d800"  #LOGO
#backup full image
#${STM32FLASH} ${SERIAL} -g 0x08000000 -r FULL_203.BIN

#read SYS
#${STM32FLASH} ${SERIAL}  -S 0x08004000:0x7fff -r SYS_B162.BIN 
#read FPGA
#${STM32FLASH} ${SERIAL} -S 0x0802c000:0x0117ff -r FPGA.BIN
#read DFU
#${STM32FLASH} ${SERIAL}  -S 0x08000000:0x3fff -r DFU_314C_LIC_OK.BIN 
#read Logo
#${STM32FLASH} ${SERIAL} -S 0x0803d800:0x27ff -r LOGO.BIN


#original flash full image from minidso (SYS162,PAV112,FPGA261,DFU314c) requires license activation
#${STM32FLASH} ${SERIAL} -v -g 0x8000000 -w FULL272.BIN


#DFU 
#${STM32FLASH} ${SERIAL} -S 0x08000000:0x3fff -w DFU314C.BIN


#${STM32FLASH} ${SERIAL}  -S 0x8009400:0x2bff -w ALTBIOS.BIN
#${STM32FLASH} ${SERIAL}  -S 0x8004000:0x7fff -w ALT_L164.BIN



#latest operating system file from minidso
#${STM32FLASH} ${SERIAL} -S 0x0803d800:0x27ff -w LOGO.BIN
#${STM32FLASH} ${SERIAL} -S 0x0802c000:0x0117ff -w FPGA.BIN
#${STM32FLASH} ${SERIAL} -S 0x08004000:0x7fff -w SYS_B164.BIN
#${STM32FLASH} ${SERIAL} -S 0x08004000:0x7fff -w SYS_B162.BIN
#${STM32FLASH} ${SERIAL} -S 0x08004000:0x7fff -w SYS_B160.BIN
#${STM32FLASH} ${SERIAL} -S 0x08004000:0x7fff -w SYS_B152.BIN



#latest official minidso firmware
#${STM32FLASH} ${SERIAL} -S 0x0800c000:0xfffe -v -w PA1_V113.BIN

#latest gcc port 1.29
#${STM32FLASH} ${SERIAL} -S 0x0800c000:0xfffe -v -w APP1B251.BIN

#wildcat 5.7 firmware slot 1+2 + extra at 0x08040000  (requires ALT_F164)
#${STM32FLASH} ${SERIAL} -S 0x0800c000:0x0ffff -v -w WC57A.BIN
#${STM32FLASH} ${SERIAL} -S 0x08040000:0x1ffff -v -w WC57B.BIN



${STM32FLASH} ${SERIAL} -S 0x08024000:0x07fff -v -w PAWN4.BIN


